!function(){function r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e(r,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function n(r,n,i){return n&&e(r.prototype,n),i&&e(r,i),r}(self.webpackChunkclient=self.webpackChunkclient||[]).push([[293],{68293:function(e,i,t){"use strict";t.r(i),t.d(i,{AuthModule:function(){return H}});var o=t(90665),s=t(38583),a=t(56440),u=t(10639),d=function(){var e=function(){function e(){r(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-auth"]],decls:1,vars:0,template:function(r,e){1&r&&u._UZ(0,"router-outlet")},directives:[a.lC],styles:[""]}),e}(),l=t(51228);function c(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Email is required."),u.qZA())}function g(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," This is not a valid Email!!! "),u.qZA())}function f(r,e){if(1&r&&(u.TgZ(0,"div",24),u.YNc(1,c,2,0,"div",25),u.YNc(2,g,2,0,"div",25),u.qZA()),2&r){u.oxw();var n=u.MAs(14);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.pattern)}}function v(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Username is required. "),u.qZA())}function p(r,e){if(1&r&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&r){u.oxw(2);var n=u.MAs(20);u.xp6(1),u.hij(" Username should be at least ",null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength," characters. ")}}function Z(r,e){if(1&r&&(u.TgZ(0,"div",24),u.YNc(1,v,2,0,"div",25),u.YNc(2,p,2,1,"div",25),u.qZA()),2&r){u.oxw();var n=u.MAs(20);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}function m(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Password is required. "),u.qZA())}function h(r,e){if(1&r&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&r){u.oxw(2);var n=u.MAs(26);u.xp6(1),u.hij(" Password should be at least ",null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength," characters. ")}}function A(r,e){if(1&r&&(u.TgZ(0,"div",24),u.YNc(1,m,2,0,"div",25),u.YNc(2,h,2,1,"div",25),u.qZA()),2&r){u.oxw();var n=u.MAs(26);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}function q(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Confirm Password is required. "),u.qZA())}function w(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Password and Confirm Password should match. "),u.qZA())}function T(r,e){if(1&r&&(u.TgZ(0,"div",24),u.YNc(1,q,2,0,"div",25),u.YNc(2,w,2,0,"div",25),u.qZA()),2&r){u.oxw();var n=u.MAs(32),i=u.MAs(26);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",n!=i)}}var _=function(){var e=function(){function e(n,i){r(this,e),this._auth=n,this._router=i}return n(e,[{key:"ngOnInit",value:function(){this._auth.loggedIn()&&(this._auth.logoutUser(),this._router.navigate(["/auth/register"]))}},{key:"registerUser",value:function(r){var e=this;this._auth.registerUser(r).subscribe(function(r){var n=JSON.parse(JSON.stringify(r));localStorage.setItem("token",n.token),e._router.navigate(["/users/profile"])},function(r){"Email already exists"===r.error?alert("Email already exists"):console.error(r)})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(u.Y36(l.e),u.Y36(a.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-register"]],decls:36,vars:5,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["required","","ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","usernameInput"],["required","","minlength","4","ngModel","","id","usernameInput","name","username","type","text",1,"form-control","rounded-0"],["username","ngModel"],["for","passwordInput"],["required","","minlength","6","ngModel","","id","passwordInput","name","password","type","password",1,"form-control","rounded-0"],["password","ngModel"],["for","confirmPasswordInput"],["required","","minlength","6","ngModel","","id","confirmPasswordInput","name","confirmPassword","type","text",1,"form-control","rounded-0"],["confirmPassword","ngModel"],[1,"btn","btn-primary","float-right",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){var n=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h3",5),u._uU(6,"Register"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(n);var r=u.MAs(9);return e.registerUser(r.value)}),u.TgZ(10,"div",9),u.TgZ(11,"label",10),u._uU(12,"Email"),u.qZA(),u._UZ(13,"input",11,12),u.YNc(15,f,3,2,"div",13),u.qZA(),u.TgZ(16,"div",9),u.TgZ(17,"label",14),u._uU(18,"Username"),u.qZA(),u._UZ(19,"input",15,16),u.YNc(21,Z,3,2,"div",13),u.qZA(),u.TgZ(22,"div",9),u.TgZ(23,"label",17),u._uU(24,"Password"),u.qZA(),u._UZ(25,"input",18,19),u.YNc(27,A,3,2,"div",13),u.qZA(),u.TgZ(28,"div",9),u.TgZ(29,"label",20),u._uU(30,"Confirm Password"),u.qZA(),u._UZ(31,"input",21,22),u.YNc(33,T,3,2,"div",13),u.qZA(),u.TgZ(34,"button",23),u._uU(35," Register "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&r){var i=u.MAs(9),t=u.MAs(14),o=u.MAs(20),s=u.MAs(26),a=u.MAs(32);u.xp6(15),u.Q6J("ngIf",t.touched&&t.invalid),u.xp6(6),u.Q6J("ngIf",o.touched&&o.invalid),u.xp6(6),u.Q6J("ngIf",s.touched&&s.invalid),u.xp6(6),u.Q6J("ngIf",a.touched&&a.invalid),u.xp6(1),u.Q6J("disabled",i.invalid)}},directives:[o._Y,o.JL,o.F,o.Fj,o.Q7,o.JJ,o.On,o.c5,s.O5,o.wO],styles:[""]}),e}(),I=t(63866);function b(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Email is required."),u.qZA())}function x(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," This is not a valid Email!!! "),u.qZA())}function M(r,e){if(1&r&&(u.TgZ(0,"div",21),u.YNc(1,b,2,0,"div",22),u.YNc(2,x,2,0,"div",22),u.qZA()),2&r){u.oxw();var n=u.MAs(14);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.pattern)}}function U(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Password is required. "),u.qZA())}function J(r,e){if(1&r&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&r){u.oxw(2);var n=u.MAs(20);u.xp6(1),u.hij(" Password should be at least ",null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength," characters. ")}}function y(r,e){if(1&r&&(u.TgZ(0,"div",21),u.YNc(1,U,2,0,"div",22),u.YNc(2,J,2,1,"div",22),u.qZA()),2&r){u.oxw();var n=u.MAs(20);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}var Y=function(){var e=function(){function e(n,i,t){r(this,e),this._auth=n,this._router=i,this._socialAuthService=t}return n(e,[{key:"ngOnInit",value:function(){this._auth.loggedIn()&&this._router.navigate(["users/profile"])}},{key:"loginUser",value:function(r){var e=this;this._auth.loginUser(r).subscribe(function(r){var n=JSON.parse(JSON.stringify(r));localStorage.setItem("token",n.token),e._router.navigate(["users/profile"])},function(r){"Invalid email"===r.error?alert("User not exists"):"Invalid password"===r.error?alert("Password Incorrect"):console.error(r)})}},{key:"continueWithGoogle",value:function(){var r=this;this._socialAuthService.signIn(I.tV.PROVIDER_ID).then(function(e){r._auth.continueWithGoogle({token:e.idToken}).subscribe(function(e){var n=JSON.parse(JSON.stringify(e));if(localStorage.setItem("token",n.token),n.firstTime)return alert("Set yout password first"),void r._router.navigate(["users/edit"]);r._router.navigate(["users/profile"])},function(r){console.log(r)})})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(u.Y36(l.e),u.Y36(a.F0),u.Y36(I.xE))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-login"]],decls:30,vars:3,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","passwordInput"],["ngModel","","id","passwordInput","minlength","6","name","password","type","password","required","",1,"form-control","rounded-0"],["password","ngModel"],["routerLink","/auth/forgot-password",1,"mt-10"],[1,"btn","btn-success","float-right",3,"disabled"],[1,"text-center","mt-3"],["type","button",1,"google","btn1",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){var n=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h3",5),u._uU(6,"Login"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(n);var r=u.MAs(9);return e.loginUser(r.value)}),u.TgZ(10,"div",9),u.TgZ(11,"label",10),u._uU(12,"Email"),u.qZA(),u._UZ(13,"input",11,12),u.YNc(15,M,3,2,"div",13),u.qZA(),u.TgZ(16,"div",9),u.TgZ(17,"label",14),u._uU(18,"Password"),u.qZA(),u._UZ(19,"input",15,16),u.YNc(21,y,3,2,"div",13),u.qZA(),u.TgZ(22,"a",17),u._uU(23,"Forgot Password"),u.qZA(),u.TgZ(24,"button",18),u._uU(25," Login "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"p",19),u._uU(27,"Or"),u.qZA(),u.TgZ(28,"button",20),u.NdJ("click",function(){return e.continueWithGoogle()}),u._uU(29," Continue with Google "),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&r){var i=u.MAs(9),t=u.MAs(14),o=u.MAs(20);u.xp6(15),u.Q6J("ngIf",t.touched&&t.invalid),u.xp6(6),u.Q6J("ngIf",o.touched&&o.invalid),u.xp6(3),u.Q6J("disabled",i.invalid)}},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,o.c5,o.Q7,s.O5,o.wO,a.yS],styles:[""]}),e}();function N(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Password is required. "),u.qZA())}function P(r,e){if(1&r&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&r){u.oxw(2);var n=u.MAs(14);u.xp6(1),u.hij(" Password should be at least ",null==n.errors||null==n.errors.minlength?null:n.errors.minlength.requiredLength," characters. ")}}function Q(r,e){if(1&r&&(u.TgZ(0,"div",18),u.YNc(1,N,2,0,"div",19),u.YNc(2,P,2,1,"div",19),u.qZA()),2&r){u.oxw();var n=u.MAs(14);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.minlength)}}function k(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Confirm Password is required. "),u.qZA())}function S(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," Password and Confirm Password should match. "),u.qZA())}function O(r,e){if(1&r&&(u.TgZ(0,"div",18),u.YNc(1,k,2,0,"div",19),u.YNc(2,S,2,0,"div",19),u.qZA()),2&r){u.oxw();var n=u.MAs(20),i=u.MAs(14);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",n!=i)}}var F=function(){var e=function(){function e(n,i,t){r(this,e),this.route=n,this._authService=i,this._router=t}return n(e,[{key:"ngOnInit",value:function(){this.id=this.route.snapshot.paramMap.get("id"),this.token=this.route.snapshot.paramMap.get("token")}},{key:"resetPassword",value:function(r){var e=this;r.id=this.id,r.token=this.token,this._authService.resetPassword(r).subscribe(function(r){alert("Password Changed..."),e._router.navigate(["/login"])},function(r){console.log(r)})}}]),e}();return e.\u0275fac=function(r){return new(r||e)(u.Y36(a.gz),u.Y36(l.e),u.Y36(a.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-reset-password"]],decls:24,vars:3,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","passwordInput"],["required","","minlength","6","ngModel","","id","passwordInput","name","password","type","password",1,"form-control","rounded-0"],["password","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","confirmPasswordInput"],["required","","minlength","6","ngModel","","id","confirmPasswordInput","name","confirmPassword","type","text",1,"form-control","rounded-0"],["confirmPassword","ngModel"],[1,"btn","btn-primary","float-right",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,e){if(1&r){var n=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h3",5),u._uU(6,"Reset Password"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(n);var r=u.MAs(9);return e.resetPassword(r.value)}),u.TgZ(10,"div",9),u.TgZ(11,"label",10),u._uU(12,"New Password"),u.qZA(),u._UZ(13,"input",11,12),u.YNc(15,Q,3,2,"div",13),u.qZA(),u.TgZ(16,"div",9),u.TgZ(17,"label",14),u._uU(18,"Confirm Password"),u.qZA(),u._UZ(19,"input",15,16),u.YNc(21,O,3,2,"div",13),u.qZA(),u.TgZ(22,"button",17),u._uU(23," Reset Password "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&r){var i=u.MAs(9),t=u.MAs(14),o=u.MAs(20);u.xp6(15),u.Q6J("ngIf",t.touched&&t.invalid),u.xp6(6),u.Q6J("ngIf",o.touched&&o.invalid),u.xp6(1),u.Q6J("disabled",i.invalid)}},directives:[o._Y,o.JL,o.F,o.Fj,o.Q7,o.wO,o.JJ,o.On,s.O5],styles:[""]}),e}();function E(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Email is required."),u.qZA())}function C(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1," This is not a valid Email!!! "),u.qZA())}function j(r,e){if(1&r&&(u.TgZ(0,"div",18),u.YNc(1,E,2,0,"div",19),u.YNc(2,C,2,0,"div",19),u.qZA()),2&r){u.oxw();var n=u.MAs(14);u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.errors?null:n.errors.pattern)}}function z(r,e){if(1&r&&(u.TgZ(0,"div",20),u._uU(1),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.hij(" ",n.successMessage," ")}}function L(r,e){if(1&r&&(u.TgZ(0,"div",21),u._uU(1),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.hij(" ",n.errorMessage," ")}}var R,X,B=[{path:"",component:d,children:[{path:"login",component:Y},{path:"forgot-password",component:(R=function(){function e(n){r(this,e),this._authService=n}return n(e,[{key:"ngOnInit",value:function(){}},{key:"forgotPassword",value:function(r){var e=this;this._authService.forgotPassword(r).subscribe(function(r){e.successMessage=r.message},function(r){e.errorMessage=r.error.message})}}]),e}(),R.\u0275fac=function(r){return new(r||R)(u.Y36(l.e))},R.\u0275cmp=u.Xpm({type:R,selectors:[["app-forgot-password"]],decls:22,vars:4,consts:[[1,"container"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"form",3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["for","emailInput"],["ngModel","","id","emailInput","name","email","type","email","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control","rounded-0"],["email","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"mt-3"],[1,"btn","btn-primary","float-right",3,"disabled"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"alert","alert-danger"],[4,"ngIf"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(r,e){if(1&r){var n=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u.TgZ(5,"h3",5),u._uU(6,"Forgot Password"),u.qZA(),u.qZA(),u.TgZ(7,"div",6),u.TgZ(8,"form",7,8),u.NdJ("ngSubmit",function(){u.CHM(n);var r=u.MAs(9);return e.forgotPassword(r.value)}),u.TgZ(10,"div",9),u.TgZ(11,"label",10),u._uU(12,"Email"),u.qZA(),u._UZ(13,"input",11,12),u.YNc(15,j,3,2,"div",13),u.qZA(),u.TgZ(16,"h5",14),u._uU(17," A password reset link will be sent to your email. "),u.qZA(),u.TgZ(18,"button",15),u._uU(19," Send Link "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.YNc(20,z,2,1,"div",16),u.YNc(21,L,2,1,"div",17),u.qZA(),u.qZA(),u.qZA()}if(2&r){var i=u.MAs(9),t=u.MAs(14);u.xp6(15),u.Q6J("ngIf",t.touched&&t.invalid),u.xp6(3),u.Q6J("disabled",i.invalid),u.xp6(2),u.Q6J("ngIf",e.successMessage),u.xp6(1),u.Q6J("ngIf",e.errorMessage)}},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,o.c5,o.Q7,s.O5],styles:[""]}),R)},{path:"reset-password/:id/:token",component:F},{path:"register",component:_}]}],G=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.Bz.forChild(B)],a.Bz]}),e}(),H=((X=function e(){r(this,e)}).\u0275fac=function(r){return new(r||X)},X.\u0275mod=u.oAB({type:X}),X.\u0275inj=u.cJS({imports:[[s.ez,G,o.u5]]}),X)}}])}();